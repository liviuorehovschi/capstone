{% extends "base.html" %}

{% block title %}Research Impact - Lung Cancer Detection System{% endblock %}

{% block extra_css %}
<style>
    .research-section {
        margin-bottom: 2rem;
        background: var(--dark-gray);
        border: 1px solid var(--glass-border);
        border-radius: 8px;
        padding: 2rem;
        backdrop-filter: blur(8px);
    }

    .research-section h2 {
        color: var(--light-gray);
        margin-bottom: 1.5rem;
        font-size: 1.6rem;
        text-transform: uppercase;
        letter-spacing: 2px;
        border-bottom: 2px solid var(--medium-gray);
        padding-bottom: 0.5rem;
    }

    .research-section p {
        margin-bottom: 1rem;
        line-height: 1.8;
        color: var(--medium-gray);
    }

    .impact-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin: 2rem 0;
    }

    .impact-card {
        background: var(--darker-gray);
        border: 1px solid var(--glass-border);
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 4px 8px var(--shadow);
    }

    .impact-card h3 {
        color: var(--accent-gray);
        margin-bottom: 1rem;
    }

    .future-list {
        background: var(--darker-gray);
        padding: 1.5rem;
        border-radius: 5px;
        margin: 1rem 0;
    }

    .future-list li {
        margin-bottom: 1rem;
        padding-left: 1.5rem;
        position: relative;
        color: var(--medium-gray);
    }

    .future-list li:before {
        content: "•";
        color: var(--accent-gray);
        font-weight: bold;
        position: absolute;
        left: 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="research-section">
    <h2>Research Context</h2>
    <p>This project began with a broad interest in applying artificial intelligence to medical imaging, initially focusing on pulmonary nodules and chest X-rays. However, due to limited dataset diversity, resolution challenges, and poor generalization, the approach pivoted toward histopathological images. These offered better class separability and a closer connection to pathological practice. With this shift came the integration of real biopsy images—first synthetic from LC25000, and later real, variably stained samples from the LungHist700 dataset—leading to more practical, clinically relevant AI modeling.</p>
</div>

<div class="research-section">
    <h2>Impact Areas</h2>
    <div class="impact-grid">
        <div class="impact-card">
            <h3>Diagnostic Support</h3>
            <p>By classifying lung tissue images into benign, adenocarcinoma, or squamous cell carcinoma, the tool supports rapid, preliminary screening. This can be particularly valuable in settings where immediate specialist review is unavailable or overburdened.</p>
        </div>
        <div class="impact-card">
            <h3>Educational Utility</h3>
            <p>For students and junior practitioners, the tool offers a visual interface for exploring histopathological differences between major lung cancer types. The saliency and Grad-CAM overlays add interpretability, offering a bridge between machine learning outputs and histological intuition.</p>
        </div>
        <div class="impact-card">
            <h3>Research Integration</h3>
            <p>The system offers a blueprint for reproducible experimentation on histopathological image classification. It demonstrates a working pipeline using mixed datasets, basic augmentation, and explainability integration, all within a deployable web interface.</p>
        </div>
    </div>
</div>

<div class="research-section">
    <h2>Challenges and Limitations</h2>
    <ul class="future-list">
        <li><strong>Generalization:</strong> Models trained on LC25000 alone were brittle when evaluated on external real-world samples. This highlighted the limitations of synthetic or augmented datasets, and led to the inclusion of real lung biopsy images.</li>
        <li><strong>Data heterogeneity:</strong> The LungHist700 images introduced wide variance in tissue preparation, staining, and resolution. While this improved realism, it also posed challenges for consistent preprocessing and model performance.</li>
        <li><strong>Model drift:</strong> When training on augmented subsets, the model initially overfit to patterns specific to training batches. Stratified validation splits and dropout layers helped mitigate this, but performance fluctuations remain an issue on smaller validation sets.</li>
        <li><strong>Label uncertainty:</strong> Some real samples from LungHist700 had weak or noisy labels. Manual verification was used for a subset, but future work should include larger, curated datasets to minimize training noise.</li>
    </ul>
</div>

<div class="research-section">
    <h2>Future Research Directions</h2>
    <p>The tool currently performs well on balanced, clean test sets but requires more robust validation and extension to become reliable in real clinical environments. Future research will focus on:</p>
    <ul class="future-list">
        <li>Acquiring or generating larger, more diverse histopathology datasets with consistent annotations across institutions and scanners.</li>
        <li>Incorporating multi-class and hierarchical classification to handle additional lung pathologies and subtypes.</li>
        <li>Testing model performance on low-quality or edge-case slides to improve robustness and reduce false confidence.</li>
        <li>Benchmarking the current architecture against more recent vision transformers or hybrid CNN-Transformer models.</li>
        <li>Conducting user studies with pathologists to evaluate practical utility and collect feedback for refinement.</li>
    </ul>
</div>
{% endblock %}
